{% extends "index_template.html" %}
{% import "macros/input_macros.html" as im %}

{% block title%} Profile {% endblock%}

{% block main %}
<div class="profile_page">
  <div class="row" id="userInfo">
    <div class="col-1"></div>
    <div class="col-1">
    	<div class="text-center container">
        {% if user.image_file == "default_profile.png"%}
        <img src="{{url_for('static', filename='/img/' ~ user.image_file )}}" alt="..." class="rounded mx-auto d-block">
        {% else %}
        <img src="{{url_for('static', filename='/img/profiles/' ~ user.image_file )}}" alt="..." class="rounded mx-auto d-block">
        {% endif %}
    	</div>

    </div>
    <div class="col-4">
      <div class="container">
        <h5> Username: {{user.username}} </h5>
        <h5> About:<br>{{ user.bio }}</h5> 
        <form action="{{ url_for('my_profile') }}" method="POST" enctype="multipart/form-data">
          {{ form.csrf_token }}
          {{ im.modal(icon="fa fa-edit ", title=('My ',"profile ")|join(), form=form , user=user)}} 
        </form>
      </div>
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-2">
      <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
       
        <a class="nav-link " id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">Posts</a>
        <a class="nav-link active" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">Pets</a>
        
      </div>
    </div>
    <div class="col">
      <div class="tab-content" id="v-pills-tabContent">

        <div class="tab-pane fade " id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
          <div class="container">
            <h3> My Post</h3>
            <div class="row row-cols-1 row-cols-md-2">
              {% for post in posts %}
              <div class=" col mb-4"> 
                {{ im.postCard(post ) }} 
                <a href="/myprofile/delete:POST_UPLOADS_{{post.id}}" class="btn-delete">
                  <button type="button" class="close" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </a>
              </div>
              {% endfor %}
            </div>
          </div> 
        </div>
        
        <div class="tab-pane fade show active" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
          <div class="container">
            <h3> My Pets</h3>
            <div class="row row-cols-1 row-cols-md-2">
              {% for pet in pets%}
              <div class="col mb-4">
                <div class="user-pet card-body" id="module" >
                {{ im.petCard(pet) }} 
                <a href="/myprofile/delete:PET_UPLOADS_{{pet.id}}" class="btn-delete">
                  <button type="button" class="close" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </a>
                </div>
                </div>
              {% endfor %}
            </div>
          </div> 
        </div>
      </div>

    </div>
  </div>
{% endblock %}

